# =============================================================================
# HaqSetu Environment Configuration
# =============================================================================
#
# SETUP:
#   1. Copy this file:  cp .env.example .env
#   2. Generate secure keys:  ./scripts/generate_keys.sh
#   3. Fill in your GCP credentials and API keys below.
#
# Keys marked [AUTO-GENERATED] are created by scripts/generate_keys.sh.
# Keys marked [REQUIRED] must be provided by you.
# Keys marked [OPTIONAL] have sensible defaults.
#
# SECURITY:
#   - NEVER commit .env to version control.
#   - For production, use GCP Secret Manager instead of .env files.
#   - Run `./scripts/generate_keys.sh --rotate` periodically to rotate keys.
# =============================================================================

# ── Environment ──────────────────────────────────────────────────────────────
# "development" or "production"
HAQSETU_ENV=development

# ── Google Cloud Platform [REQUIRED] ────────────────────────────────────────
# Your GCP project ID (e.g., "haqsetu-prod-12345")
GCP_PROJECT_ID=your-gcp-project-id

# GCP region for all services
GCP_REGION=asia-south1

# Path to GCP service account JSON key file.
# For local dev, you can also use: gcloud auth application-default login
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ── Vertex AI / Gemini [OPTIONAL] ───────────────────────────────────────────
VERTEX_AI_MODEL=gemini-2.0-flash
VERTEX_AI_LOCATION=asia-south1

# ── Redis [OPTIONAL] ────────────────────────────────────────────────────────
# Falls back to in-memory LRU cache if Redis is unavailable.
# For production with docker-compose, use: redis://:${REDIS_PASSWORD}@redis:6379/0
REDIS_URL=redis://localhost:6379/0

# [AUTO-GENERATED] Redis password for production deployments.
# Generated by: ./scripts/generate_keys.sh
REDIS_PASSWORD=your-redis-password

# ── Firestore [OPTIONAL] ────────────────────────────────────────────────────
FIRESTORE_DATABASE=(default)

# ── API Configuration [OPTIONAL] ────────────────────────────────────────────
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ── Security Keys [AUTO-GENERATED] ──────────────────────────────────────────
# 256-bit AES encryption key for DPDPA-compliant data encryption.
# Generated by: ./scripts/generate_keys.sh
ENCRYPTION_KEY=your-256-bit-encryption-key-base64

# Admin API key for protected endpoints (/admin/ingest, /verification/trigger).
# Generated by: ./scripts/generate_keys.sh
HAQSETU_ADMIN_API_KEY=your-admin-api-key

# Session signing secret for HMAC-based session integrity.
# Generated by: ./scripts/generate_keys.sh
HAQSETU_SESSION_SECRET=your-session-secret

# ── CORS [OPTIONAL] ─────────────────────────────────────────────────────────
# Comma-separated list of allowed origins for production.
# Ignored in development (localhost origins are auto-allowed).
HAQSETU_CORS_ORIGINS=https://haqsetu.in,https://www.haqsetu.in

# ── Rate Limiting [OPTIONAL] ────────────────────────────────────────────────
RATE_LIMIT_PER_MINUTE=60

# ── Logging [OPTIONAL] ──────────────────────────────────────────────────────
LOG_LEVEL=INFO
LOG_FORMAT=json

# ── DPDPA Compliance [OPTIONAL] ─────────────────────────────────────────────
DPDPA_CONSENT_RETENTION_YEARS=7

# ── Cache TTL (seconds) [OPTIONAL] ──────────────────────────────────────────
TRANSLATION_CACHE_TTL=2592000
SCHEME_CACHE_TTL=14400
SESSION_CACHE_TTL=3600

# ── Data Sources [REQUIRED for ingestion] ───────────────────────────────────
# API key for data.gov.in Open Data Platform.
# Register at: https://data.gov.in/
DATA_GOV_API_KEY=your-data-gov-in-api-key

# ── Ingestion Pipeline [OPTIONAL] ───────────────────────────────────────────
HAQSETU_INGESTION_INTERVAL_HOURS=24
HAQSETU_MYSCHEME_RATE_LIMIT_DELAY=1.5
HAQSETU_ENABLE_AUTO_INGESTION=true
